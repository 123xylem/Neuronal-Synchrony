<!doctype html>
<html>
  <head>
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <link rel="stylesheet" media="screen" type="text/css" href="./styles/main.css" />
  </head>
  <body>
    <div id="loader" style="display: none;"></div>
    <div class="scripts" style="display: none;">
      <script src="./third-party/jquery.js"></script>
      <script src="./third-party/tween.js"></script>
      <script src="./third-party/two.js"></script>
      <script src="./src/animations.js"></script>
      <script src="/socket.io/socket.io.js"></script>
      <script>

        var socket = io.connect('http://localhost');
        socket
          .on('connected', function(name) {
            console.log('connected to', name);
          })
          .on('press', function (data) {
            var index = data.x;
            var on = !!data.s;
            if (on) {
              var o = animations.objects[index];
              if (o && !o.playing()) {
                socket.emit('start', data);
                animations.initializers[index](function() {
                  socket.emit('end', data);
                });
              }
            }
          });

        two
          .bind('update', function() {
            animations.update();
            TWEEN.update();
          }).play();

      </script>
    </div>
  </body>
</html>